Menu="Docker"
Title="Docker Images"
Cond="(pgrep('docker')!==false)"
---
<table class="tablesorter shift" id="docker_images">
  <thead>
    <tr>
      <th style="width:10px;"><input type="checkbox" onclick="selectAllIMG(true);" id="imgSelect"></th>
      <th>Tag</th>
      <th>Used By</th>
      <th>Image ID</th>
      <th>Created</th>
      <th>Virtual Size</th>
    </tr>
  </thead>
  <tbody>
    <? $all_images = $docker->getDockerImages();
      if ( ! $all_images) { $all_images = array(); }
      foreach($all_images as $image){ 
        $checkbox = "<input type=\"checkbox\" class=\"selectIMG\" image=\"". $image['Id'] ."\" imageName=\"". $image['Tags'][0] ."\">";
        if (! count($image['usedBy']) && $image["ImageType"] == 'user') {
          $remove = "<a class=\"exec\" title=\"User Image\" onclick=\"rmImage('" . htmlentities($image['Id']) . "','" . $image['Tags'][0] . "'); return true;\">Remove</a>";
        } else if ( $image["ImageType"] == 'base'){
          $remove = "<a class=\"exec\" style=\"color:#FF2400;\" title=\"Base Image?\" onclick=\"rmImage('" . htmlentities($image['Id']) . "','" . $image['Tags'][0] . "'); return true;\">Remove</a>";
        } else {
          $checkbox = "<input type=\"checkbox\" disabled=\"disabled\">";
          $remove = "Remove";
        }
    ?>
    <tr>
      <td><?=$checkbox;?></td>
      <td><?=implode("<br>",$image['Tags']);?></td>
      <td><?=implode(", ",$image['usedBy']);?></td>
      <td><?=htmlentities($image['Id']);?></td>
      <td><?=htmlentities($image['Created']);?></td>
      <td><?=htmlentities($image['VirtualSize']);?></td>
    </tr>
    <?};?>
  </tbody>
</table>
<div class="button-group" style="position:relative;">
  <i class="button" onclick="multiImages('rmImage');" title="Remove"><i class="fa fa-trash fa-custom">&nbsp;&nbsp; Remove</i></i>
</div>